{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Button/Buton.module.css","components/App/App.module.css","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/services/api.js","components/App/App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchQuery","handleChange","event","setState","target","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","this","className","st","SearchForm","type","button","size","buttonLabel","input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","image","id","webformatURL","largeImageURL","src","alt","ImageGalleryItemImage","ImageGallery","gallery","onClick","map","item","applyLoader","s","Loader","color","height","width","timeout","Button","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","children","fetchImages","page","a","fetch","res","ok","json","Promise","reject","Error","statusText","api","App","curretPage","loading","showModal","largeImageUrl","fetchImagesGallery","currentPage","then","data","prevState","hits","catch","error","finally","handleQueryChange","query","openModal","nodeName","dataset","source","closeModal","prevProps","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.69f77028.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3KMm7\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__XWFUX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3gpbj\",\"Modal\":\"Modal_Modal__3aHmM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3wD2U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__oZBzM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Buton_Button__Ta3qk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2MMIu\"};","import PropTypes from \"prop-types\";\nimport { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport st from \"./Searchbar.module.css\";\nimport { FcSearch } from \"react-icons/fc/\";\n\nclass Searchbar extends Component {\n  state = {\n    searchQuery: \"\",\n  };\n\n  handleChange = (event) => {\n    this.setState({ searchQuery: event.target.value.toLowerCase() });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    if (this.state.searchQuery.trim() === \"\") {\n      toast(\"Enter your query!\");\n      return;\n    }\n\n    const { searchQuery } = this.state;\n    this.props.onSubmit(searchQuery);\n    this.setState({ searchQuery: \"\" });\n  };\n\n  render() {\n    const { searchQuery } = this.state;\n    return (\n      <header className={st.Searchbar}>\n        <form className={st.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={st.button}>\n            <FcSearch size=\"25\" />\n            <span className={st.buttonLabel}>Search</span>\n          </button>\n\n          <input\n            className={st.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            value={searchQuery}\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport st from \"./ImageGalleryItem.module.css\";\n\nfunction ImageGalleryItem({ image: { id, webformatURL, largeImageURL } }) {\n  return (\n    <li className={st.ImageGalleryItem}>\n      <img\n        id={id}\n        src={webformatURL}\n        alt=\"\"\n        data-source={largeImageURL}\n        className={st.ImageGalleryItemImage}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.object.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from \"prop-types\";\nimport st from \"./ImageGallery.module.css\";\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\n\nfunction ImageGallery({ gallery, onClick }) {\n  return (\n    <ul className={st.ImageGallery} onClick={onClick}>\n      {gallery.map((item) => (\n        <ImageGalleryItem key={item.id} image={item} />\n      ))}\n    </ul>\n  );\n}\nImageGallery.propTypes = {\n  gallery: PropTypes.array.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from \"react\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport s from \"./Loader.module.css\";\n\nconst applyLoader = () => {\n  return (\n    <Loader\n      className={s.Loader}\n      type=\"Circles\"\n      color=\"#3f51b5\"\n      height={80}\n      width={80}\n      timeout={5000}\n    />\n  );\n};\nexport default applyLoader;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Buton.module.css\";\n\nconst Button = ({ onClick }) => (\n  <button type=\"button\" onClick={onClick} className={s.Button}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (event) => {\n    if (event.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = (event) => {\n    if (event.currentTarget === event.target) this.props.onClose();\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n","const BASE_URL = \"https://pixabay.com/api/\";\nconst KEY = \"24464531-810b90441dc32988cf7404dfc\";\nconst PER_PAGE = 12;\n\n// function fetchImages(searchQuery, page) {\n//   return fetch(\n//     `${BASE_URL}?q=${searchQuery}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=${PER_PAGE}`\n//   ).then((response) => {\n//     if (response.ok) {\n//       return response.json();\n//     }\n//     return Promise.reject(new Error(`No results found for ${searchQuery}`));\n//   });\n// }\n\nconst fetchImages = async (searchQuery, page) => {\n  const res = await fetch(\n    `${BASE_URL}/?q=${searchQuery}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=${PER_PAGE}`\n  );\n  return res.ok ? res.json() : Promise.reject(new Error(res.statusText));\n};\n\nconst api = { fetchImages };\n\nexport default api;\n","import { Component } from \"react\";\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Loader from \"../Loader/Loader\";\nimport Button from \"../Button/Button\";\nimport Modal from \"../Modal/Modal\";\nimport api from \"../services/api\";\nimport s from \"./App.module.css\";\n\nclass App extends Component {\n  state = {\n    curretPage: 1,\n    gallery: [],\n    searchQuery: \"\",\n    loading: false,\n    showModal: false,\n    largeImageUrl: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImagesGallery();\n    }\n  }\n\n  fetchImagesGallery = () => {\n    const { currentPage, searchQuery } = this.state;\n    this.setState({ loading: true });\n    api\n      .fetchImages(searchQuery, currentPage)\n      .then((data) =>\n        this.setState((prevState) => ({\n          gallery: [...prevState.gallery, ...data.hits],\n          currentPage: prevState.currentPage + 1,\n        }))\n      )\n      // .then(() => {\n      //   window.scrollTo({\n      //     top: document.documentElement.scrollHeight,\n      //     behavior: \"smooth\",\n      //   });\n      // })\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  handleQueryChange = (query) => {\n    this.setState({ gallery: [], searchQuery: query, currentPage: 1 });\n  };\n\n  openModal = (event) => {\n    if (event.target.nodeName === \"IMG\") {\n      this.setState({\n        showModal: true,\n        largeImageUrl: event.target.dataset.source,\n      });\n    }\n  };\n\n  closeModal = () => {\n    this.setState({ showModal: false, largeImageUrl: \"\" });\n  };\n\n  render() {\n    const {\n      gallery,\n      searchQuery,\n      currentPage,\n      showModal,\n      largeImageUrl,\n      loading,\n    } = this.state;\n\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.handleQueryChange} />\n        <ImageGallery\n          gallery={gallery}\n          searchQuery={searchQuery}\n          currentPage={currentPage}\n          onClick={this.openModal}\n        />\n        {showModal && (\n          <Modal onClose={this.closeModal} largeImageURL={largeImageUrl}>\n            <img src={largeImageUrl} alt=\"\" />\n          </Modal>\n        )}\n        {loading && <Loader />}\n        {gallery.length > 0 && !loading && (\n          <Button onClick={this.fetchImagesGallery} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App/App.jsx\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__fff3z\",\"SearchForm\":\"Searchbar_SearchForm__1tgST\",\"button\":\"Searchbar_button__2j-E1\",\"buttonLabel\":\"Searchbar_buttonLabel__1SDWA\",\"input\":\"Searchbar_input__aMh41\"};"],"sourceRoot":""}